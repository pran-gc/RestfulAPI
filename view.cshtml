@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>RESTful API Tester</title>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <style>
        .api-section { margin-bottom: 30px; border: 1px solid #ddd; padding: 15px; border-radius: 5px; }
        .method-badge { margin-right: 10px; }
        .response-area { background: #f8f9fa; border: 1px solid #e9ecef; padding: 10px; margin-top: 10px; border-radius: 3px; }
        .json-input { font-family: monospace; }
        .endpoint-title { color: #495057; font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1 class="text-center">RESTful API Testing Interface</h1>
                <p class="text-center text-muted">Test your RESTful endpoints like Swagger</p>
                <hr>
                
                <!-- GET Section -->
                <div class="api-section">
                    <h3><span class="label label-success method-badge">GET</span>GET Endpoints</h3>
                    
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span class="endpoint-title">GET /api/products - Get all products (DEMO)</span>
                        </div>
                        <div class="panel-body">
                            <button class="btn btn-success" onclick="testGetAll()">Execute</button>
                            <div id="getall-response" class="response-area" style="display:none;"></div>
                        </div>
                    </div>
                    
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span class="endpoint-title">GET /api/products/{id} - Get product by ID (Easy 1)</span>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label>Product ID:</label>
                                <input type="number" class="form-control" id="getid-input" placeholder="Enter product ID" style="width:200px;">
                            </div>
                            <button class="btn btn-success" onclick="testGetById()">Execute</button>
                            <div id="getid-response" class="response-area" style="display:none;"></div>
                        </div>
                    </div>
                    
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span class="endpoint-title">GET /api/products/category/{category} - Get by category (Easy 2)</span>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label>Category:</label>
                                <input type="text" class="form-control" id="getcategory-input" placeholder="Enter category" style="width:200px;">
                            </div>
                            <button class="btn btn-success" onclick="testGetByCategory()">Execute</button>
                            <div id="getcategory-response" class="response-area" style="display:none;"></div>
                        </div>
                    </div>
                    
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span class="endpoint-title">GET /api/products/search - Search products (Medium)</span>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label>Name (optional):</label>
                                <input type="text" class="form-control" id="search-name" placeholder="Enter product name" style="width:200px;">
                            </div>
                            <div class="form-group">
                                <label>Min Price (optional):</label>
                                <input type="number" class="form-control" id="search-minprice" placeholder="Enter min price" style="width:200px;">
                            </div>
                            <div class="form-group">
                                <label>Max Price (optional):</label>
                                <input type="number" class="form-control" id="search-maxprice" placeholder="Enter max price" style="width:200px;">
                            </div>
                            <button class="btn btn-success" onclick="testSearchProducts()">Execute</button>
                            <div id="search-response" class="response-area" style="display:none;"></div>
                        </div>
                    </div>
                    
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span class="endpoint-title">GET /api/products/pricerange - Get by price range (Challenge)</span>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label>Min Price:</label>
                                <input type="number" class="form-control" id="pricerange-min" placeholder="Enter min price" style="width:200px;">
                            </div>
                            <div class="form-group">
                                <label>Max Price:</label>
                                <input type="number" class="form-control" id="pricerange-max" placeholder="Enter max price" style="width:200px;">
                            </div>
                            <button class="btn btn-success" onclick="testPriceRange()">Execute</button>
                            <div id="pricerange-response" class="response-area" style="display:none;"></div>
                        </div>
                    </div>
                </div>

                <!-- POST Section -->
                <div class="api-section">
                    <h3><span class="label label-primary method-badge">POST</span>POST Endpoints</h3>
                    
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span class="endpoint-title">POST /api/products - Add new product (DEMO)</span>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label>JSON Body:</label>
                                <textarea class="form-control json-input" id="post-input" rows="6" placeholder='{"name": "Sample Product", "price": 29.99, "category": "Electronics", "stock": 10, "description": "A sample product"}'></textarea>
                            </div>
                            <button class="btn btn-primary" onclick="testPost()">Execute</button>
                            <div id="post-response" class="response-area" style="display:none;"></div>
                        </div>
                    </div>
                    
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span class="endpoint-title">POST /api/products/validated - Add with validation (Easy 1)</span>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label>JSON Body:</label>
                                <textarea class="form-control json-input" id="postvalidated-input" rows="6" placeholder='{"name": "New Product", "price": 49.99, "category": "Electronics", "stock": 5, "description": "Product with validation"}'></textarea>
                            </div>
                            <button class="btn btn-primary" onclick="testPostValidated()">Execute</button>
                            <div id="postvalidated-response" class="response-area" style="display:none;"></div>
                        </div>
                    </div>
                    
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span class="endpoint-title">POST /api/customers - Add new customer (Easy 2)</span>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label>JSON Body:</label>
                                <textarea class="form-control json-input" id="postcustomer-input" rows="4" placeholder='{"name": "John Doe", "email": "john@example.com", "phone": "123-456-7890"}'></textarea>
                            </div>
                            <button class="btn btn-primary" onclick="testPostCustomer()">Execute</button>
                            <div id="postcustomer-response" class="response-area" style="display:none;"></div>
                        </div>
                    </div>
                    
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span class="endpoint-title">POST /api/products/required - Add with required fields (Medium)</span>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label>JSON Body:</label>
                                <textarea class="form-control json-input" id="postrequired-input" rows="6" placeholder='{"name": "Required Product", "price": 99.99, "category": "Electronics", "stock": 3, "description": "Product with required validation"}'></textarea>
                            </div>
                            <button class="btn btn-primary" onclick="testPostRequired()">Execute</button>
                            <div id="postrequired-response" class="response-area" style="display:none;"></div>
                        </div>
                    </div>
                    
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span class="endpoint-title">POST /api/products/pricevalidation - Add with price validation (Challenge)</span>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label>JSON Body:</label>
                                <textarea class="form-control json-input" id="postprice-input" rows="6" placeholder='{"name": "Price Validated Product", "price": 25.99, "category": "Electronics", "stock": 7, "description": "Product with price validation"}'></textarea>
                            </div>
                            <button class="btn btn-primary" onclick="testPostPrice()">Execute</button>
                            <div id="postprice-response" class="response-area" style="display:none;"></div>
                        </div>
                    </div>
                </div>

                <!-- PUT Section -->
                <div class="api-section">
                    <h3><span class="label label-warning method-badge">PUT</span>PUT Endpoints</h3>
                    
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span class="endpoint-title">PUT /api/products/{id} - Update product (DEMO)</span>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label>Product ID:</label>
                                <input type="number" class="form-control" id="put-id" placeholder="Enter product ID" style="width:200px;">
                            </div>
                            <div class="form-group">
                                <label>JSON Body:</label>
                                <textarea class="form-control json-input" id="put-input" rows="6" placeholder='{"name": "Updated Product", "price": 39.99, "category": "Electronics", "stock": 15, "description": "Updated description"}'></textarea>
                            </div>
                            <button class="btn btn-warning" onclick="testPut()">Execute</button>
                            <div id="put-response" class="response-area" style="display:none;"></div>
                        </div>
                    </div>
                    
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span class="endpoint-title">PUT /api/products/{id}/name - Update product name only (Easy 1)</span>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label>Product ID:</label>
                                <input type="number" class="form-control" id="putname-id" placeholder="Enter product ID" style="width:200px;">
                            </div>
                            <div class="form-group">
                                <label>New Name:</label>
                                <input type="text" class="form-control" id="putname-name" placeholder="Enter new name" style="width:300px;">
                            </div>
                            <button class="btn btn-warning" onclick="testPutName()">Execute</button>
                            <div id="putname-response" class="response-area" style="display:none;"></div>
                        </div>
                    </div>
                    
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span class="endpoint-title">PUT /api/products/{id}/price - Update product price only (Easy 2)</span>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label>Product ID:</label>
                                <input type="number" class="form-control" id="putprice-id" placeholder="Enter product ID" style="width:200px;">
                            </div>
                            <div class="form-group">
                                <label>New Price:</label>
                                <input type="number" class="form-control" id="putprice-price" placeholder="Enter new price" style="width:200px;">
                            </div>
                            <button class="btn btn-warning" onclick="testPutPrice()">Execute</button>
                            <div id="putprice-response" class="response-area" style="display:none;"></div>
                        </div>
                    </div>
                    
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span class="endpoint-title">PUT /api/products/{id}/validated - Update with validation (Medium)</span>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label>Product ID:</label>
                                <input type="number" class="form-control" id="putvalidated-id" placeholder="Enter product ID" style="width:200px;">
                            </div>
                            <div class="form-group">
                                <label>JSON Body:</label>
                                <textarea class="form-control json-input" id="putvalidated-input" rows="6" placeholder='{"name": "Validated Update", "price": 59.99, "category": "Electronics", "stock": 8, "description": "Updated with validation"}'></textarea>
                            </div>
                            <button class="btn btn-warning" onclick="testPutValidated()">Execute</button>
                            <div id="putvalidated-response" class="response-area" style="display:none;"></div>
                        </div>
                    </div>
                    
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span class="endpoint-title">PUT /api/products/{id}/stock - Update with stock check (Challenge)</span>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label>Product ID:</label>
                                <input type="number" class="form-control" id="putstock-id" placeholder="Enter product ID" style="width:200px;">
                            </div>
                            <div class="form-group">
                                <label>JSON Body:</label>
                                <textarea class="form-control json-input" id="putstock-input" rows="6" placeholder='{"name": "Stock Checked", "price": 79.99, "category": "Electronics", "stock": 5, "description": "Updated with stock validation"}'></textarea>
                            </div>
                            <button class="btn btn-warning" onclick="testPutStock()">Execute</button>
                            <div id="putstock-response" class="response-area" style="display:none;"></div>
                        </div>
                    </div>
                </div>

                <!-- DELETE Section -->
                <div class="api-section">
                    <h3><span class="label label-danger method-badge">DELETE</span>DELETE Endpoints</h3>
                    
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span class="endpoint-title">DELETE /api/products/{id} - Delete product by ID (DEMO)</span>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label>Product ID:</label>
                                <input type="number" class="form-control" id="delete-id" placeholder="Enter product ID" style="width:200px;">
                            </div>
                            <button class="btn btn-danger" onclick="testDelete()">Execute</button>
                            <div id="delete-response" class="response-area" style="display:none;"></div>
                        </div>
                    </div>
                    
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span class="endpoint-title">DELETE /api/products/name/{name} - Delete by name (Easy 1)</span>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label>Product Name:</label>
                                <input type="text" class="form-control" id="deletename-input" placeholder="Enter product name" style="width:200px;">
                            </div>
                            <button class="btn btn-danger" onclick="testDeleteByName()">Execute</button>
                            <div id="deletename-response" class="response-area" style="display:none;"></div>
                        </div>
                    </div>
                    
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span class="endpoint-title">DELETE /api/customers/{id} - Delete customer by ID (Easy 2)</span>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label>Customer ID:</label>
                                <input type="number" class="form-control" id="deletecustomer-id" placeholder="Enter customer ID" style="width:200px;">
                            </div>
                            <button class="btn btn-danger" onclick="testDeleteCustomer()">Execute</button>
                            <div id="deletecustomer-response" class="response-area" style="display:none;"></div>
                        </div>
                    </div>
                    
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span class="endpoint-title">DELETE /api/products/{id}/checked - Delete with check (Medium)</span>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label>Product ID:</label>
                                <input type="number" class="form-control" id="deletecheck-id" placeholder="Enter product ID" style="width:200px;">
                            </div>
                            <button class="btn btn-danger" onclick="testDeleteChecked()">Execute</button>
                            <div id="deletecheck-response" class="response-area" style="display:none;"></div>
                        </div>
                    </div>
                    
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <span class="endpoint-title">DELETE /api/products/{id}/business - Delete with business rule (Challenge)</span>
                        </div>
                        <div class="panel-body">
                            <div class="form-group">
                                <label>Product ID:</label>
                                <input type="number" class="form-control" id="deletebusiness-id" placeholder="Enter product ID" style="width:200px;">
                            </div>
                            <button class="btn btn-danger" onclick="testDeleteBusiness()">Execute</button>
                            <div id="deletebusiness-response" class="response-area" style="display:none;"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
    
    <script>
        
        function showResponse(elementId, type, response) {
            console.log('Showing response in:', elementId, 'Type:', type, 'Response:', response);
            var element = $('#' + elementId);
            element.removeClass('alert-success alert-danger').addClass(type === 'success' ? 'alert alert-success' : 'alert alert-danger');
            
            var responseText = response;
            if (typeof response === 'object') {
                responseText = JSON.stringify(response, null, 2);
            }
            
            element.html('<strong>' + (type === 'success' ? 'Success:' : 'Error:') + '</strong><br><pre>' + responseText + '</pre>');
            element.show();
        }
        
        // GET Functions
        function testGetAll() {
            console.log('testGetAll function called');
            $.ajax({
                url: '@Url.RouteUrl(new{ action="GetAllProducts", controller="Home"})',
                type: 'GET',
                dataType: 'json',
                success: function(response) {
                    showResponse('getall-response', 'success', response);
                },
                error: function(xhr, status, error) {
                    showResponse('getall-response', 'error', xhr.responseText || error);
                }
            });
        }
        
        function testGetById() {
            var id = $('#getid-input').val();
            if (!id) { alert('Please enter a product ID'); return; }
            $.ajax({
                url: '@Url.RouteUrl(new{ action="GetProductById", controller="Home"})',
                type: 'GET',
                data: { id: id },
                dataType: 'json',
                success: function(response) {
                    showResponse('getid-response', 'success', response);
                },
                error: function(xhr, status, error) {
                    showResponse('getid-response', 'error', xhr.responseText || error);
                }
            });
        }
        
        function testGetByCategory() {
            var category = $('#getcategory-input').val();
            if (!category) { alert('Please enter a category'); return; }
            $.ajax({
                url: '@Url.RouteUrl(new{ action="GetProductsByCategory", controller="Home"})',
                type: 'GET',
                data: { category: category },
                dataType: 'json',
                success: function(response) {
                    showResponse('getcategory-response', 'success', response);
                },
                error: function(xhr, status, error) {
                    showResponse('getcategory-response', 'error', xhr.responseText || error);
                }
            });
        }
        
        function testSearchProducts() {
            var name = $('#search-name').val();
            var minPrice = $('#search-minprice').val();
            var maxPrice = $('#search-maxprice').val();
            var searchData = {};
            if (name) searchData.name = name;
            if (minPrice) searchData.minPrice = minPrice;
            if (maxPrice) searchData.maxPrice = maxPrice;
            $.ajax({
                url: '@Url.RouteUrl(new{ action="SearchProducts", controller="Home"})',
                type: 'GET',
                data: searchData,
                dataType: 'json',
                success: function(response) {
                    showResponse('search-response', 'success', response);
                },
                error: function(xhr, status, error) {
                    showResponse('search-response', 'error', xhr.responseText || error);
                }
            });
        }
        
        function testPriceRange() {
            var minPrice = $('#pricerange-min').val();
            var maxPrice = $('#pricerange-max').val();
            if (!minPrice || !maxPrice) { alert('Please enter both min and max price'); return; }
            $.ajax({
                url: '@Url.RouteUrl(new{ action="GetProductsInPriceRange", controller="Home"})',
                type: 'GET',
                data: { minPrice: minPrice, maxPrice: maxPrice },
                dataType: 'json',
                success: function(response) {
                    showResponse('pricerange-response', 'success', response);
                },
                error: function(xhr, status, error) {
                    showResponse('pricerange-response', 'error', xhr.responseText || error);
                }
            });
        }
        
        // POST Functions
        function testPost() {
            var jsonData = $('#post-input').val();
            if (!jsonData) { alert('Please enter JSON data'); return; }
            try {
                var data = JSON.parse(jsonData);
                $.ajax({
                    url: '@Url.RouteUrl(new{ action="AddProduct", controller="Home"})',
                    type: 'POST',
                    data: data,
                    dataType: 'json',
                    success: function(response) {
                        showResponse('post-response', 'success', response);
                    },
                    error: function(xhr, status, error) {
                        showResponse('post-response', 'error', xhr.responseText || error);
                    }
                });
            } catch (e) {
                alert('Invalid JSON format');
            }
        }
        
        function testPostValidated() {
            var jsonData = $('#postvalidated-input').val();
            if (!jsonData) { alert('Please enter JSON data'); return; }
            try {
                var data = JSON.parse(jsonData);
                $.ajax({
                    url: '@Url.RouteUrl(new{ action="AddProductWithValidation", controller="Home"})',
                    type: 'POST',
                    data: data,
                    dataType: 'json',
                    success: function(response) {
                        showResponse('postvalidated-response', 'success', response);
                    },
                    error: function(xhr, status, error) {
                        showResponse('postvalidated-response', 'error', xhr.responseText || error);
                    }
                });
            } catch (e) {
                alert('Invalid JSON format');
            }
        }
        
        function testPostCustomer() {
            var jsonData = $('#postcustomer-input').val();
            if (!jsonData) { alert('Please enter JSON data'); return; }
            try {
                var data = JSON.parse(jsonData);
                $.ajax({
                    url: '@Url.RouteUrl(new{ action="AddCustomer", controller="Home"})',
                    type: 'POST',
                    data: data,
                    dataType: 'json',
                    success: function(response) {
                        showResponse('postcustomer-response', 'success', response);
                    },
                    error: function(xhr, status, error) {
                        showResponse('postcustomer-response', 'error', xhr.responseText || error);
                    }
                });
            } catch (e) {
                alert('Invalid JSON format');
            }
        }
        
        function testPostRequired() {
            var jsonData = $('#postrequired-input').val();
            if (!jsonData) { alert('Please enter JSON data'); return; }
            try {
                var data = JSON.parse(jsonData);
                $.ajax({
                    url: '@Url.RouteUrl(new{ action="AddProductWithRequiredFields", controller="Home"})',
                    type: 'POST',
                    data: data,
                    dataType: 'json',
                    success: function(response) {
                        showResponse('postrequired-response', 'success', response);
                    },
                    error: function(xhr, status, error) {
                        showResponse('postrequired-response', 'error', xhr.responseText || error);
                    }
                });
            } catch (e) {
                alert('Invalid JSON format');
            }
        }
        
        function testPostPrice() {
            var jsonData = $('#postprice-input').val();
            if (!jsonData) { alert('Please enter JSON data'); return; }
            try {
                var data = JSON.parse(jsonData);
                $.ajax({
                    url: '@Url.RouteUrl(new{ action="AddProductWithPriceValidation", controller="Home"})',
                    type: 'POST',
                    data: data,
                    dataType: 'json',
                    success: function(response) {
                        showResponse('postprice-response', 'success', response);
                    },
                    error: function(xhr, status, error) {
                        showResponse('postprice-response', 'error', xhr.responseText || error);
                    }
                });
            } catch (e) {
                alert('Invalid JSON format');
            }
        }
        
        // PUT Functions
        function testPut() {
            var id = $('#put-id').val();
            var jsonData = $('#put-input').val();
            if (!id || !jsonData) { alert('Please enter both ID and JSON data'); return; }
            try {
                var data = JSON.parse(jsonData);
                data.id = id; // Add ID to the data object
                $.ajax({
                    url: '@Url.RouteUrl(new{ action="UpdateProduct", controller="Home"})',
                    type: 'PUT', // Use POST instead of PUT for better compatibility
                    data: data,
                    dataType: 'json',
                    success: function(response) {
                        showResponse('put-response', 'success', response);
                    },
                    error: function(xhr, status, error) {
                        showResponse('put-response', 'error', xhr.responseText || error);
                    }
                });
            } catch (e) {
                alert('Invalid JSON format');
            }
        }
        
        function testPutName() {
            var id = $('#putname-id').val();
            var name = $('#putname-name').val();
            if (!id || !name) { alert('Please enter both ID and name'); return; }
            $.ajax({
                url: '@Url.RouteUrl(new{ action="UpdateProductName", controller="Home"})',
                type: 'POST',
                data: { id: id, name: name },
                dataType: 'json',
                success: function(response) {
                    showResponse('putname-response', 'success', response);
                },
                error: function(xhr, status, error) {
                    showResponse('putname-response', 'error', xhr.responseText || error);
                }
            });
        }
        
        function testPutPrice() {
            var id = $('#putprice-id').val();
            var price = $('#putprice-price').val();
            if (!id || !price) { alert('Please enter both ID and price'); return; }
            $.ajax({
                url: '@Url.RouteUrl(new{ action="UpdateProductPrice", controller="Home"})',
                type: 'POST',
                data: { id: id, price: price },
                dataType: 'json',
                success: function(response) {
                    showResponse('putprice-response', 'success', response);
                },
                error: function(xhr, status, error) {
                    showResponse('putprice-response', 'error', xhr.responseText || error);
                }
            });
        }
        
        function testPutValidated() {
            var id = $('#putvalidated-id').val();
            var jsonData = $('#putvalidated-input').val();
            if (!id || !jsonData) { alert('Please enter both ID and JSON data'); return; }
            try {
                var data = JSON.parse(jsonData);
                data.id = id;
                $.ajax({
                    url: '@Url.RouteUrl(new{ action="UpdateProductWithValidation", controller="Home"})',
                    type: 'POST',
                    data: data,
                    dataType: 'json',
                    success: function(response) {
                        showResponse('putvalidated-response', 'success', response);
                    },
                    error: function(xhr, status, error) {
                        showResponse('putvalidated-response', 'error', xhr.responseText || error);
                    }
                });
            } catch (e) {
                alert('Invalid JSON format');
            }
        }
        
        function testPutStock() {
            var id = $('#putstock-id').val();
            var jsonData = $('#putstock-input').val();
            if (!id || !jsonData) { alert('Please enter both ID and JSON data'); return; }
            try {
                var data = JSON.parse(jsonData);
                data.id = id;
                $.ajax({
                    url: '@Url.RouteUrl(new{ action="UpdateProductWithStockCheck", controller="Home"})',
                    type: 'POST',
                    data: data,
                    dataType: 'json',
                    success: function(response) {
                        showResponse('putstock-response', 'success', response);
                    },
                    error: function(xhr, status, error) {
                        showResponse('putstock-response', 'error', xhr.responseText || error);
                    }
                });
            } catch (e) {
                alert('Invalid JSON format');
            }
        }
        
        // DELETE Functions
        function testDelete() {
            var id = $('#delete-id').val();
            if (!id) { alert('Please enter a product ID'); return; }
            $.ajax({
                url: '@Url.RouteUrl(new{ action="DeleteProduct", controller="Home"})',
                type: 'DELETE',
                data: { id: id },
                dataType: 'json',
                success: function(response) {
                    showResponse('delete-response', 'success', response);
                },
                error: function(xhr, status, error) {
                    showResponse('delete-response', 'error', xhr.responseText || error);
                }
            });
        }
        
        function testDeleteByName() {
            var name = $('#deletename-input').val();
            if (!name) { alert('Please enter a product name'); return; }
            $.ajax({
                url: '@Url.RouteUrl(new{ action="DeleteProductByName", controller="Home"})',
                type: 'POST',
                data: { name: name },
                dataType: 'json',
                success: function(response) {
                    showResponse('deletename-response', 'success', response);
                },
                error: function(xhr, status, error) {
                    showResponse('deletename-response', 'error', xhr.responseText || error);
                }
            });
        }
        
        function testDeleteCustomer() {
            var id = $('#deletecustomer-id').val();
            if (!id) { alert('Please enter a customer ID'); return; }
            $.ajax({
                url: '@Url.RouteUrl(new{ action="DeleteCustomer", controller="Home"})',
                type: 'POST',
                data: { id: id },
                dataType: 'json',
                success: function(response) {
                    showResponse('deletecustomer-response', 'success', response);
                },
                error: function(xhr, status, error) {
                    showResponse('deletecustomer-response', 'error', xhr.responseText || error);
                }
            });
        }
        
        function testDeleteChecked() {
            var id = $('#deletecheck-id').val();
            if (!id) { alert('Please enter a product ID'); return; }
            $.ajax({
                url: '@Url.RouteUrl(new{ action="DeleteProductWithCheck", controller="Home"})',
                type: 'POST',
                data: { id: id },
                dataType: 'json',
                success: function(response) {
                    showResponse('deletecheck-response', 'success', response);
                },
                error: function(xhr, status, error) {
                    showResponse('deletecheck-response', 'error', xhr.responseText || error);
                }
            });
        }
        
        function testDeleteBusiness() {
            var id = $('#deletebusiness-id').val();
            if (!id) { alert('Please enter a product ID'); return; }
            $.ajax({
                url: '@Url.RouteUrl(new{ action="DeleteProductWithBusinessRule", controller="Home"})',
                type: 'POST',
                data: { id: id },
                dataType: 'json',
                success: function(response) {
                    showResponse('deletebusiness-response', 'success', response);
                },
                error: function(xhr, status, error) {
                    showResponse('deletebusiness-response', 'error', xhr.responseText || error);
                }
            });
        }
    </script>
</body>
</html>